(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{7183:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return r(41)}])},5757:function(e,t,r){"use strict";var o,n;r.d(t,{o:function(){return o}}),(n=o||(o={})).NO_UPCOMMING_BOOKINGS="There are none existing upcomming bookings",n.NO_TODAYS_BOOKINGS="There are none existing todays bookings",n.NO_PAST_BOOKINGS="There are none existing past bookings",n.NO_FAVORITE_SLOTS="There are none existing favorite slots",n.NO_SLOTS="There are none existing slots",n.NO_USERS="There are none existing users"},41:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return D}});var o=r(5893),n=r(1572),s=r.n(n),a=r(7294),l=r(775),i=r(4222),c=r(8053),u=r(4478),f=r(543),d=r(3366),m=r(7462),h=r(512),p=r(8027),g=r(5463),x=r(8510),y=r(5098),v=r(9628),b=r(9707),S=r(7172),k=r(5408),_=r(8700);let N=["component","direction","spacing","divider","children","className","useFlexGap"],O=(0,S.Z)(),w=(0,y.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function j(e){return(0,v.Z)({props:e,name:"MuiStack",defaultTheme:O})}let E=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],T=({ownerState:e,theme:t})=>{let r=(0,m.Z)({display:"flex",flexDirection:"column"},(0,k.k9)({theme:t},(0,k.P$)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let o=(0,_.hB)(t),n=Object.keys(t.breakpoints.values).reduce((t,r)=>(("object"==typeof e.spacing&&null!=e.spacing[r]||"object"==typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t),{}),s=(0,k.P$)({values:e.direction,base:n}),a=(0,k.P$)({values:e.spacing,base:n});"object"==typeof s&&Object.keys(s).forEach((e,t,r)=>{if(!s[e]){let o=t>0?s[r[t-1]]:"column";s[e]=o}}),r=(0,p.Z)(r,(0,k.k9)({theme:t},a,(t,r)=>e.useFlexGap?{gap:(0,_.NA)(o,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${E(r?s[r]:e.direction)}`]:(0,_.NA)(o,t)}}))}return(0,k.dt)(t.breakpoints,r)};var Z=r(4342),C=r(5378);let A=function(e={}){let{createStyledComponent:t=w,useThemeProps:r=j,componentName:n="MuiStack"}=e,s=()=>(0,x.Z)({root:["root"]},e=>(0,g.ZP)(n,e),{}),l=t(T);return a.forwardRef(function(e,t){let n=r(e),i=(0,b.Z)(n),{component:c="div",direction:u="column",spacing:f=0,divider:p,children:g,className:x,useFlexGap:y=!1}=i,v=(0,d.Z)(i,N),S=s();return(0,o.jsx)(l,(0,m.Z)({as:c,ownerState:{direction:u,spacing:f,useFlexGap:y},ref:t,className:(0,h.Z)(S.root,x)},v,{children:p?function(e,t){let r=a.Children.toArray(e).filter(Boolean);return r.reduce((e,o,n)=>(e.push(o),n<r.length-1&&e.push(a.cloneElement(t,{key:`separator-${n}`})),e),[])}(g,p):g}))})}({createStyledComponent:(0,Z.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,C.Z)({props:e,name:"MuiStack"})});var P=r(7328),M=r(3563),R=r(9320),F=r(5757),G=r(8572),D=()=>{var e;let{user:t}=(0,G.LM)(),{favoriteSlots:r}=(0,G.MJ)(),{slotsArray:n}=(0,P.Z)(),{error:d,setError:m}=(0,G.Xt)(),{setAlert:h}=(0,u.VY)(),[p,g]=(0,a.useState)([]),[x,y]=(0,a.useState)([]),[v,b]=(0,a.useState)(),[S,k]=(0,a.useState)(!1),[_,N]=(0,a.useState)("all"),O=(0,a.useCallback)(async()=>{let e=await fetch("/api/slots/getSlots",{headers:f.A,method:"GET"});if(e.ok){let t=await e.json();g(t),P.Z.setState({slotsArray:t})}else console.log((await e.json()).message)},[]),w=(0,a.useCallback)(async()=>{let e=E(r,n);e&&e.length>0&&e.forEach(async e=>{await fetch("/api/user/setFavoriteSlot",{body:JSON.stringify({user:t,slot:e,toggle:!0}),headers:f.A,method:"POST"}).then(async e=>{let t=await e.json();G.MJ.setState({favoriteSlots:t.favoriteSlots})})})},[]),j=(0,a.useCallback)(async()=>{try{await fetch("/api/errors/deleteErrors",{headers:f.A,method:"DELETE"})}catch(e){console.log(e)}},[]),E=(e,t)=>{let r=t.map(e=>e.id);return e.filter(e=>!r.includes(e.id))},T=()=>{k(!1)},Z=e=>{b(e),k(!S)},C=e=>{if("favorities"===_)return y(e)},D=e=>{N(e),"all"===e?y(p):"favorities"===e?y(r||[]):y(p.filter(t=>t.type===e))};return(0,a.useEffect)(()=>{O().catch(console.error)},[O]),(0,a.useEffect)(()=>{d&&(h("",d,"error"),setTimeout(()=>{m(null)},3e3))},[d,h,m]),(0,a.useEffect)(()=>{D(_)},[p,_]),(0,a.useEffect)(()=>{w().catch(console.error),j().catch(console.error)},[]),(0,o.jsxs)(M.Z,{className:"".concat(s().className," mx-2 md:mx-0 mt-7 md:mt-10"),children:[t&&_&&(0,o.jsx)(M.Z,{className:"flex items-center justify-center pb-4 md:pb-8 flex-wrap",children:null===(e=Object.entries((()=>{let e={all:"All categories"};return p.some(e=>e.type===i.vV.CAR)&&(e[i.vV.CAR]="Car slots"),p.some(e=>e.type===i.vV.DESK)&&(e[i.vV.DESK]="Desk slots"),e.favorities="Favorite slots",e})()))||void 0===e?void 0:e.map(e=>{let[t,r]=e;return(0,o.jsx)("button",{type:"button",className:"".concat(_===t?"dark:bg-blue-700":"dark:bg-gray-900"," text-gray-900 border border-white hover:border-gray-200 dark:border-gray-900 dark:hover:border-gray-700 bg-white focus:ring-4 focus:outline-none focus:ring-gray-300 rounded-full text-base font-medium px-5 py-2.5 text-center me-3 mb-3 dark:text-white dark:focus:ring-gray-800"),onClick:()=>D(t),children:r},t)})}),S&&t&&(0,o.jsx)(c.Z,{data:v,onClose:T,onConfirm:()=>{T()}}),(0,o.jsx)(A,{spacing:{xs:2,sm:2,lg:2,xl:2,"2xl":2},direction:"row",useFlexGap:!0,flexWrap:"wrap",sx:{justifyContent:"center"},children:null==x?void 0:x.map(e=>(0,o.jsx)(l.lc,{slot:e,onHandleClick:Z,handleFavoriteSlots:C},e.id))}),(null==x?void 0:x.length)===0&&(0,o.jsx)(M.Z,{className:"w-full min-h-14 flex justify-center items-center",children:(0,o.jsx)(R.Z,{className:"text-gray-400 text-xl md:text-4xl ml-0 mr-2 mt-3 mb-3 font-bold",variant:"h2",children:F.o.NO_SLOTS})})]})}},1572:function(e){e.exports={style:{fontFamily:"'__Inter_aaf875', '__Inter_Fallback_aaf875'",fontStyle:"normal"},className:"__className_aaf875"}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=7183)}),_N_E=e.O()}]);