(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[972],{4020:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/booked-slots",function(){return n(1729)}])},1729:function(e,t,n){"use strict";n.r(t);var s=n(5893),l=n(7294),a=n(3907),i=n(1132),o=n(1790),d=n(9897),c=n(684),u=n(1707),r=n(3563),f=n(2224),p=n(775),v=n(5119),x=n(543);t.default=function(){let e=(0,l.useRef)(null),[t,n]=(0,l.useState)([]),[y,S]=(0,l.useState)(null),[h,j]=(0,l.useState)([]),[k,w]=(0,l.useState)(null),[b,g]=(0,l.useState)(!1),[Z,_]=(0,l.useState)(!1),[m,C]=(0,l.useState)(!0),[E,N]=(0,l.useState)(""),[P,T]=(0,l.useState)(!1),[M,O]=(0,l.useState)({x:0,y:0}),G=(0,l.useCallback)(e=>{let t=h.find(t=>t.id===e.event.id);t&&(w(t),g(!0))},[h]),X=(0,l.useCallback)(async()=>{C(!0);let e=await fetch("/api/bookedSlots/getAllSlots",{headers:x.A,method:"GET"});if(e.ok){let t=await e.json();n((0,f._r)(t)),j(t),C(!1)}else console.log((await e.json()).message)},[]),A=(e,t)=>{e.preventDefault(),e.stopPropagation();let n=h.find(e=>e.id===t.event.id);n&&(w(n),_(!0))};return(0,l.useEffect)(()=>{X().catch(console.error)},[X]),(0,s.jsxs)(r.Z,{className:"bg-white p-6 mt-7 md:mt-10",children:[b&&(0,s.jsx)(p.kj,{data:k,onClose:()=>{g(!1)},isOnlyRead:!0}),Z&&(0,s.jsx)(p.cP,{data:k,isBookedSlot:!0,onClose:()=>{_(!1),X()}}),(0,s.jsx)(r.Z,{className:"calendar-wrp",children:m?(0,s.jsx)(a.Z,{ref:e,plugins:[i.Z,d.ZP],initialView:"dayGridMonth",selectable:!0,editable:!0,events:[],locales:o.Z,locale:"en-US"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,{ref:e,plugins:[i.Z,d.ZP],initialView:"dayGridMonth",selectable:!0,editable:!0,events:t,locales:o.Z,locale:"en-US",eventMouseEnter:e=>{S(e.event),N(e.event.title),O({x:e.jsEvent.clientX,y:e.jsEvent.clientY}),T(!0)},eventMouseLeave:e=>{T(!1),O({x:0,y:0})},eventClick:G,displayEventTime:!1,eventContent:e=>(0,s.jsxs)(r.Z,{"data-tooltip-id":e.id,"data-tooltip-content":e.title,style:{display:"flex",alignItems:"center"},className:"fc-event-title",children:[(0,s.jsx)(v.ZT,{onClick:t=>A(t,e),additionalCss:"scale-75",icon:(0,s.jsx)(u.Z,{})}),e.event.title]})}),P&&(0,s.jsx)(c.u,{id:null==y?void 0:y.id,content:E,isOpen:P,positionStrategy:"fixed",opacity:"1",delayShow:1e3,delayHide:10,style:{zIndex:"999",backgroundColor:"bg-gray-900"},position:{y:M.y,x:M.x}})]})})]})}}},function(e){e.O(0,[69,772,888,774,179],function(){return e(e.s=4020)}),_N_E=e.O()}]);