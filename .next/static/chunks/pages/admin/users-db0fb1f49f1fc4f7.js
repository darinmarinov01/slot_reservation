(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[635],{4985:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/users",function(){return t(1183)}])},5757:function(e,s,t){"use strict";var a,r;t.d(s,{o:function(){return a}}),(r=a||(a={})).NO_UPCOMMING_BOOKINGS="There are none existing upcomming bookings",r.NO_TODAYS_BOOKINGS="There are none existing todays bookings",r.NO_PAST_BOOKINGS="There are none existing past bookings",r.NO_FAVORITE_SLOTS="There are none existing favorite slots",r.NO_SLOTS="There are none existing slots",r.NO_USERS="There are none existing users"},1183:function(e,s,t){"use strict";t.r(s);var a=t(5893),r=t(7294),n=t(1707),i=t(9320),l=t(775),c=t(5119),o=t(2224),d=t(8572),x=t(5757),m=t(543),h=t(3563);s.default=function(){let e=(0,d.LM)(e=>e.user),[s,t]=(0,r.useState)([]),[u,p]=(0,r.useState)(null),[g,N]=(0,r.useState)(!1),[f,y]=(0,r.useState)({key:"name",direction:"asc"}),j=(0,r.useCallback)(async()=>{let s=await fetch("/api/user/getUsers",{headers:m.A,method:"GET"});if(s.ok){let a=await s.json();if(e){let s=null==a?void 0:a.filter(s=>s.id!==(null==e?void 0:e.id));t(s),b("name","asc",s)}}else console.log((await s.json()).message)},[e,g]),k=async(e,s)=>{e.preventDefault(),e.stopPropagation(),N(!0),p(s)},_=async()=>{O()},O=()=>{N(!1)},b=function(e,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;y({key:e,direction:a}),t([...r].sort((s,t)=>s[e]<t[e]?"asc"===a?-1:1:s[e]>t[e]?"asc"===a?1:-1:0))},w=e=>{let s="asc";f.key===e&&"asc"===f.direction&&(s="desc"),b(e,s)},S=e=>f.key===e?"asc"===f.direction?"↑":"↓":"";return(0,r.useEffect)(()=>{j().catch(console.error)},[j]),(0,a.jsxs)(h.Z,{className:"relative overflow-x-auto shadow-md sm:rounded-lg mt-7 md:mt-10",children:[g&&(0,a.jsx)(l.T0,{data:u,onClose:O,onConfirm:_}),(0,a.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,a.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:(0,a.jsxs)(h.Z,{className:"flex items-center cursor-pointer",onClick:()=>w("name"),children:["User Name ",S("name")]})}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:(0,a.jsxs)(h.Z,{className:"flex items-center cursor-pointer",onClick:()=>w("email"),children:["User Email ",S("email")]})}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:(0,a.jsxs)(h.Z,{className:"flex items-center cursor-pointer",onClick:()=>w("dateCreated"),children:["Date Created ",S("dateCreated")]})}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:(0,a.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,a.jsx)("tbody",{children:e&&(null==s?void 0:s.map(e=>!e.isDeleted&&(0,a.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[(0,a.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:e.name}),(0,a.jsx)("td",{className:"px-6 py-4",children:e.email}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,o.u6)(new Date(null==e?void 0:e.dateCreated),"ca")}),(0,a.jsx)("td",{className:"px-6 py-4 flex justify-end",children:(0,a.jsx)(c.ZT,{onClick:s=>k(s,e),additionalCss:"cursor-pointer",icon:(0,a.jsx)(n.Z,{})})})]},e.id)))})]}),e&&(null==s?void 0:s.length)===0&&(0,a.jsx)(h.Z,{className:"mt-10 w-full min-h-14 flex justify-center items-center",children:(0,a.jsxs)(i.Z,{className:"text-gray-400 text-xl md:text-4xl ml-0 mr-2 mt-3 mb-3 font-bold",variant:"h2",children:[" ",x.o.NO_SLOTS," "]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=4985)}),_N_E=e.O()}]);