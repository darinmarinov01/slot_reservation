(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[269],{116:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/slots",function(){return s(2084)}])},5757:function(e,t,s){"use strict";var a,l;s.d(t,{o:function(){return a}}),(l=a||(a={})).NO_UPCOMMING_BOOKINGS="There are none existing upcomming bookings",l.NO_TODAYS_BOOKINGS="There are none existing todays bookings",l.NO_PAST_BOOKINGS="There are none existing past bookings",l.NO_FAVORITE_SLOTS="There are none existing favorite slots",l.NO_SLOTS="There are none existing slots",l.NO_USERS="There are none existing users"},2084:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(5893),l=s(7294);let o=l.forwardRef(function(e,t){let{title:s,titleId:a,...o}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},o),s?l.createElement("title",{id:a},s):null,l.createElement("path",{fillRule:"evenodd",d:"M12 6.75a5.25 5.25 0 0 1 6.775-5.025.75.75 0 0 1 .313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 0 1 1.248.313 5.25 5.25 0 0 1-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 1 1 2.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0 1 12 6.75ZM4.117 19.125a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z",clipRule:"evenodd"}),l.createElement("path",{d:"m10.076 8.64-2.201-2.2V4.874a.75.75 0 0 0-.364-.643l-3.75-2.25a.75.75 0 0 0-.916.113l-.75.75a.75.75 0 0 0-.113.916l2.25 3.75a.75.75 0 0 0 .643.364h1.564l2.062 2.062 1.575-1.297Z"}),l.createElement("path",{fillRule:"evenodd",d:"m12.556 17.329 4.183 4.182a3.375 3.375 0 0 0 4.773-4.773l-3.306-3.305a6.803 6.803 0 0 1-1.53.043c-.394-.034-.682-.006-.867.042a.589.589 0 0 0-.167.063l-3.086 3.748Zm3.414-1.36a.75.75 0 0 1 1.06 0l1.875 1.876a.75.75 0 1 1-1.06 1.06L15.97 17.03a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});var r=s(1707),n=s(4222),i=s(775),c=s(5119),d=s(8572),h=s(9320),u=s(5757),x=s(543),m=s(3563),p=function(){let{slotsArray:e}=(0,d.Rr)(),[t,s]=(0,l.useState)([]),[p,f]=(0,l.useState)(null),[g,w]=(0,l.useState)({showDeleteModal:!1,showEditModal:!1,showCreateModal:!1}),[y,N]=(0,l.useState)({key:"location",direction:"asc"}),b=(0,l.useCallback)(async()=>{try{let e=await fetch("/api/slots/getSlots",{headers:x.A,method:"GET"});if(!e.ok)throw Error(await e.json());let t=await e.json();s(t),d.Rr.setState({slotsArray:t})}catch(e){console.error("Failed to fetch slots:",e)}},[]),j=(e,t)=>{f(e),w(e=>({...e,[t]:!0}))},k=()=>{w({showDeleteModal:!1,showEditModal:!1,showCreateModal:!1}),f(null)},C=async()=>{k()},v=async()=>{k()},_=function(e,a){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;N({key:e,direction:a}),s([...l].sort((t,s)=>t[e]<s[e]?"asc"===a?-1:1:t[e]>s[e]?"asc"===a?1:-1:0))},O=e=>{let t="asc";y.key===e&&"asc"===y.direction&&(t="desc"),_(e,t)},E=e=>y.key===e?"asc"===y.direction?"↑":"↓":"";return(0,l.useEffect)(()=>{b()},[b,g.showDeleteModal,g.showEditModal,g.showCreateModal]),(0,a.jsxs)(m.Z,{className:"relative overflow-x-auto shadow-md sm:rounded-lg mt-7 md:mt-10",children:[g.showDeleteModal&&p&&(0,a.jsx)(i.cP,{data:p,isBookedSlot:!1,onClose:k,onConfirm:C}),g.showEditModal&&p&&(0,a.jsx)(i.Xr,{data:p,onClose:k,onConfirm:v}),g.showCreateModal&&(0,a.jsx)(i.ie,{onClose:k,onConfirm:v}),(0,a.jsx)(c.zx,{onClick:e=>{e.preventDefault(),j(null,"showCreateModal")},"data-modal-hide":"default-modal",type:"button",className:"text-white mt-0 mb-10 flex self-end ml-auto bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Create Slot"}),(0,a.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,a.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:(0,a.jsxs)(m.Z,{className:"flex items-center cursor-pointer",onClick:()=>O("location"),children:["Location ",E("location")]})}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:(0,a.jsxs)(m.Z,{className:"flex items-center cursor-pointer",onClick:()=>O("type"),children:["Type ",E("type")]})}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:(0,a.jsxs)(m.Z,{className:"flex items-center cursor-pointer",onClick:()=>O("description"),children:["Description ",E("description")]})}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:(0,a.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,a.jsx)("tbody",{children:t.map(e=>(0,a.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[(0,a.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:e.location}),(0,a.jsx)("td",{className:"px-6 py-4",children:e.type===n.vV.CAR?"Car":"Desk"}),(0,a.jsx)("td",{className:"px-6 py-4",children:e.description}),(0,a.jsxs)("td",{className:"px-6 py-4 flex justify-end",children:[(0,a.jsx)(c.ZT,{onClick:t=>{t.preventDefault(),j(e,"showEditModal")},additionalCss:"cursor-pointer",icon:(0,a.jsx)(o,{})}),(0,a.jsx)(c.ZT,{onClick:t=>{t.preventDefault(),j(e,"showDeleteModal")},additionalCss:"cursor-pointer",icon:(0,a.jsx)(r.Z,{})})]})]},e.id))})]}),(null==t?void 0:t.length)==0&&(0,a.jsx)(m.Z,{className:"mt-10 w-full min-h-14 flex justify-center items-center",children:(0,a.jsxs)(h.Z,{className:"text-gray-400 text-xl md:text-4xl ml-0 mr-2 mt-3 mb-3 font-bold",variant:"h2",children:[" ",u.o.NO_SLOTS," "]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=116)}),_N_E=e.O()}]);